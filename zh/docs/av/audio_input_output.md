基本采集到输出流程:

先采集到模拟信号，然后通过 ADC(模数 转换)将模拟信号转换成数字信号以后，再通过 PCM(Pulse Code Modulation)脉冲编码 调制对连续变化的模拟信号进行采样、量化和编码转换成离散的数字信号，从而实现音频信号 的采集。另外，也可以将采集的音频信号输出到扬声器、耳机之类的设备。

PCM 的采集步骤分为以下步骤：模拟信号 -> 采样 -> 量化 -> 编码 -> 数字信号

## 音频采样数据格式

PCM 文件就是未经封装的音频原始文件，或者叫做音频“裸数据”。

不同的扬声器、耳机设备，甚至是声卡输出设备，对音频的裸数据支持的情况不一样，因为输出的数据类型的支持不同，所以 PCM 采样数据的格式在输出之前，需要转换一下。这些数据的格式我们通常称之为采样数据格式。

## 音频采样频率

通常我们人耳能够听到的频率范围是在 20Hz~20kHz 之间，为了保证音频不失真，音频的采样频率通常应该在 40kHz 以上，而理论上采样率大于 40kHz 的音 频格式都可以称之为无损格式。现在一般的专业设备的采样频率为 44100Hz(也称之为 44.1kHz)。并且 44.1kHz 是专业音频中的最低采样率

- 8000 Hz 主要是电话通信时用的采样率，对于传达人们说话时的声音已经足够了;
- 11025 Hz、22050 Hz 主要是无线电广播用的采样率;
- 44100 Hz 常用于音频 CD，MP3 音乐播放等场景;
- 48000 Hz 常用于 miniDV、数字电视、DVD、电影和专业音频等设备中。

## 音频声道及其布局

采集不同方位的声源，然后通过不同方位的扬声器播放出来就产生了不同的声道

![](https://raw.githubusercontent.com/mikaelzero/ImageSource/main/uPic/YtIGDp.png)

## 音频采样位深度

采样的位深度，也叫采样位深，它决定了声音的动态范围。平时，我们常见的 16 位(16bit) 可以记录大概 96 分贝(96dB)的动态范围。也可以理解为每一个比特大约可以记录 6dB 的 声音。同理，20bit 可记录的动态范围大概是 120dB，24bit 就大概是 144dB。

计算公式如下:

$$
20\times math.log10(65535)
$$

通常为了高保真，我们会选择使用 32bit，甚至 64bit 来表示音频。而常规音频通话使用 16bit 来表示即可，当然条件有限的话，8bit 也可以，但它是底线。因为 8bit 的音频表示，听起来有 时候会比较模糊。

## 编码

由于数字信号是由 0，1 组成的，因此，需要将幅度值转换为一系列 0 和 1 进行存储，也就是编码，最后得到的数据就是数字信号：一串 0 和 1 组成的数据。整个过程如下：

## 音频的码率

所谓码率，我们通常可以理解为按照某种频率计算一定数据量 的单位,通常我们用 bps(bits per second)来表示，也就是每秒钟有多少位数据,而我们平 时所说的码率，可以简单理解为每秒钟存储或传输的编码压缩后的数据量。

计算音频码率，比如有一个双声道立体声、采样率是 48000、采样位深是 16 位、时长为 1 分钟的音频，它 的存储空间占用计算应该是:

$$
声道数 × 采样率 × 采样位深 × 时长 = 2 × 48000 × 16 × 60 = 92160000b
$$

码率应该是 :

$$
92160000b ÷ 60s = 1536000bps = 1536kbps = 1.536Mbps
$$

音频的码率可以间接地表示音频的质量，一般高清格式的码率更高。

## 音频的编解码

和上面的编码不同，这里是压缩编码，PCM 音频数据属于原始数据，带大小比较大，所以为了节省传输带宽或者存储，通常会选择对音频数据做 **编码压缩** 处理，MP3、AAC 这样的后缀，其实这些都是音频编码的格式

![](http://www.52im.net/data/attachment/forum/202007/20/133723zc5c9iwc1wuy1yr5.jpg)

## 总结

![](https://raw.githubusercontent.com/mikaelzero/ImageSource/main/uPic/qT32P2.png)
