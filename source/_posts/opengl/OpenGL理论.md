---
title: OpenGL理论
urlname: opengl-theory
date: 2023/04/07
tags:
  - OpenGL
---

## 向量

### 点乘

> 如果两个向量的方向相反，则它们的点乘结果是-1，而如果它们互相垂直，则它们的点乘结果为 0

两个单位向量点乘的结果是它们的夹角的余弦值，即$cos\theta =\vec{a}\cdot\vec{b}$，其中$\vec{a}$和$\vec{b}$是两个单位向量。当两个单位向量的夹角越小时，它们的点乘结果越接近于 1。

这是因为$cos\theta$所表示的是向量$\vec{a}$在向量$\vec{b}$的方向上的投影长度（也可以表示为向量$\vec{b}$在向量$\vec{a}$的方向上的投影长度），而当两个向量的方向越接近时，它们的投影长度就越大，因此它们的点乘结果也就越趋近于 1。如果两个向量的方向相反，则它们的点乘结果是-1，而如果它们互相垂直，则它们的点乘结果为 0。

### 相加或相减

在计算机图形学中，向量相加和相减的几何意义非常重要。例如，在三维空间中，为了计算两个点之间的距离，我们可以先计算它们之间的向量差，并计算出这个向量差的长度。在计算物体的运动或旋转过程中，我们通常需要将一个向量加上另一个向量或从一个向量中减去另一个向量，以更新物体的位置和方向。

## 变换

## 光照

> 冯氏光照模型(Phong Lighting Model)
> 环境光照(Ambient Lighting)：即使在黑暗的情况下，世界上通常也仍然有一些光亮（月亮、远处的光），所以物体几乎永远不会是完全黑暗的。为了模拟这个，我们会使用一个环境光照常量，它永远会给物体一些颜色。
> 漫反射光照(Diffuse Lighting)：模拟光源对物体的方向性影响(Directional Impact)。它是冯氏光照模型中视觉上最显著的分量。物体的某一部分越是正对着光源，它就会越亮。
> 镜面光照(Specular Lighting)：模拟有光泽物体上面出现的亮点。镜面光照的颜色相比于物体的颜色会更倾向于光的颜色。

### 反射出的颜色向量

将光源的颜色与物体的颜色向量相乘，所得到的结果就是光线在物体表面反射出来的颜色向量

在计算反射颜色时，我们需要将光源颜色表示为入射光的颜色和方向，然后根据物体表面的反射属性来分解入射光为漫反射光和镜面反射光，并计算它们分别在物体表面上反射的颜色。最后，将两部分反射光的颜色按照一定的比例相加，就可以获得该点的反射颜色了。这个过程可以用向量乘法来表示，将光源颜色的向量与物体表面颜色的向量相乘，得到的结果就是反射颜色的向量。简单来说，将光源颜色和物体表面颜色向量相乘，是计算反射颜色的一个方便、简单和可靠的方法。

### 为什么向量乘法可以反应出两个颜色相加

向量乘法与颜色相加的关系其实比较微妙。在计算机图形学中，通常使用的颜色是 RGB 颜色空间下的三维向量，用于表示红、绿、蓝三原色的颜色分量。在进行光照计算时，我们通常将光源颜色的分量分别乘以物体表面颜色分量的分量，然后再将它们相加。这个过程也可以用向量乘法的方式来表示。

假设物体表面颜色向量为`I=(R,G,B)`，光源颜色向量为`L=(r,g,b)`，则它们的乘积结果为`I x L = (Rr, Gg, Bb)`。结果向量中的每个分量其实就是对应颜色分量相乘的结果，即`(Rr, Gg, Bb)`，这也就等同于将光源颜色和物体表面颜色分量相乘后相加的结果，也就是`(Rr + Gg + Bb)`，它就是反射出来的最终颜色向量。

因此，向量乘法可以反应出两个颜色相加的情况，是因为在计算机图形学中，我们通过使用向量的分量分别表示颜色分量，并将分量分别相乘后相加来计算反射颜色。这个过程看起来就像对两个颜色值进行相加，但实际上是通过向量的方式进行了运算。
